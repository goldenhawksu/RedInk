# ğŸš€ çº¢å¢¨å®Œæ•´éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†çº¢å¢¨å°çº¢ä¹¦ AI å›¾æ–‡ç”Ÿæˆå™¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

## ğŸ“¦ éƒ¨ç½²æ¶æ„

**æ¨èæ–¹æ¡ˆ**: å‰åç«¯åˆ†ç¦»éƒ¨ç½²

- âœ… **å‰ç«¯** â†’ Vercel (é™æ€ç«™ç‚¹æ‰˜ç®¡,å…è´¹)
- âœ… **åç«¯** â†’ Railway (Node.js åº”ç”¨,å…è´¹é¢åº¦å……è¶³)

---

## ğŸ¯ ç¬¬ä¸€æ­¥: éƒ¨ç½²å‰ç«¯åˆ° Vercel

### 1.1 ä¸€é”®éƒ¨ç½²

ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®éƒ¨ç½²å‰ç«¯:

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/goldenhawksu/RedInk&project-name=redink-frontend&repository-name=redink)

### 1.2 éƒ¨ç½²æ­¥éª¤

1. **æˆæƒ GitHub**
   - ç‚¹å‡»éƒ¨ç½²æŒ‰é’®å,Vercel ä¼šè¦æ±‚æˆæƒ
   - é€‰æ‹©æ‚¨çš„ GitHub è´¦å·

2. **è‡ªåŠ¨æ„å»º**
   - Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° `vercel.json` é…ç½®
   - è‡ªåŠ¨æ„å»ºå‰ç«¯é¡¹ç›®
   - ç­‰å¾… 2-3 åˆ†é’Ÿ

3. **è·å–å‰ç«¯ URL**

   éƒ¨ç½²æˆåŠŸå,æ‚¨ä¼šå¾—åˆ°ä¸€ä¸ª URL:
   ```
   https://redink-frontend-xxx.vercel.app
   ```

   **ğŸ“ è®°ä¸‹è¿™ä¸ª URL,ç¨åé…ç½®åç«¯æ—¶éœ€è¦ç”¨åˆ°ï¼**

---

## ğŸš‚ ç¬¬äºŒæ­¥: éƒ¨ç½²åç«¯åˆ° Railway

### 2.1 å‡†å¤‡ API Key

åœ¨éƒ¨ç½²åç«¯ä¹‹å‰,æ‚¨éœ€è¦è·å– API Key:

**Google Gemini** (æ¨è):
- è®¿é—®: https://makersuite.google.com/app/apikey
- åˆ›å»ºæ–°çš„ API Key
- æ ¼å¼: `AIza************************************`

**æˆ–è€… OpenAI**:
- è®¿é—®: https://platform.openai.com/api-keys
- åˆ›å»ºæ–°çš„ API Key
- æ ¼å¼: `sk-****************************************`

### 2.2 éƒ¨ç½²åˆ° Railway

1. **è®¿é—® Railway**
   - æ‰“å¼€ https://railway.app
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - æˆæƒ Railway è®¿é—® GitHub
   - é€‰æ‹© `RedInk` ä»“åº“

3. **Railway è‡ªåŠ¨é…ç½®**
   - Railway ä¼šæ£€æµ‹åˆ° `railway.json`
   - è‡ªåŠ¨é…ç½®æ„å»ºå’Œéƒ¨ç½²
   - æ— éœ€æ‰‹åŠ¨è®¾ç½®

4. **é…ç½®ç¯å¢ƒå˜é‡**

   åœ¨ Railway é¡¹ç›®é¡µé¢:
   - ç‚¹å‡» "Variables"
   - ç‚¹å‡» "+ New Variable"
   - æ·»åŠ ä»¥ä¸‹å˜é‡:

   **å¿…éœ€å˜é‡**:
   ```
   TEXT_API_KEY=AIza************************************
   IMAGE_API_KEY=AIza************************************
   NODE_ENV=production
   ```

   **å¯é€‰å˜é‡** (ä½¿ç”¨é»˜è®¤å€¼å³å¯):
   ```
   PORT=12399
   LOG_LEVEL=info
   TEXT_MODEL=gemini-2.5-flash
   TEXT_TEMPERATURE=1.0
   TEXT_MAX_TOKENS=8000
   IMAGE_MODEL=gemini-3-pro-image-preview
   ```

5. **ç­‰å¾…éƒ¨ç½²**
   - æ·»åŠ ç¯å¢ƒå˜é‡å,Railway ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²
   - ç­‰å¾… 3-5 åˆ†é’Ÿ
   - éƒ¨ç½²æˆåŠŸå,è·å–åç«¯ URL

6. **è·å–åç«¯ URL**

   éƒ¨ç½²æˆåŠŸå:
   - ç‚¹å‡» "Settings" â†’ "Domains"
   - å¤åˆ¶æä¾›çš„ URL,ä¾‹å¦‚:
   ```
   https://redink-production-xxxx.up.railway.app
   ```

---

## ğŸ”— ç¬¬ä¸‰æ­¥: è¿æ¥å‰ç«¯å’Œåç«¯

### 3.1 ä¿®æ”¹å‰ç«¯ API é…ç½®

1. **åœ¨æ‚¨çš„æœ¬åœ°ä»“åº“ä¸­**,ç¼–è¾‘å‰ç«¯ API é…ç½®:

   **æ–‡ä»¶**: `frontend/src/api/index.ts`

   æ‰¾åˆ°è¿™ä¸€è¡Œ:
   ```typescript
   baseURL: '/api',
   ```

   æ”¹ä¸ºæ‚¨çš„ Railway åç«¯ URL:
   ```typescript
   baseURL: 'https://redink-production-xxxx.up.railway.app/api',
   ```

2. **æäº¤å¹¶æ¨é€**:
   ```bash
   git add frontend/src/api/index.ts
   git commit -m "feat: é…ç½®ç”Ÿäº§ç¯å¢ƒåç«¯ API åœ°å€"
   git push
   ```

3. **Vercel è‡ªåŠ¨é‡æ–°éƒ¨ç½²**
   - Push å Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°å˜æ›´
   - è‡ªåŠ¨é‡æ–°éƒ¨ç½²å‰ç«¯
   - ç­‰å¾… 2-3 åˆ†é’Ÿ

---

## âœ… ç¬¬å››æ­¥: éªŒè¯éƒ¨ç½²

### 4.1 æµ‹è¯•åç«¯

è®¿é—®åç«¯å¥åº·æ£€æŸ¥ç«¯ç‚¹:
```bash
curl https://redink-production-xxxx.up.railway.app/api/health
```

é¢„æœŸå“åº”:
```json
{
  "success": true,
  "message": "æœåŠ¡æ­£å¸¸è¿è¡Œ"
}
```

### 4.2 æµ‹è¯•å‰ç«¯

1. è®¿é—®æ‚¨çš„å‰ç«¯ URL:
   ```
   https://redink-frontend-xxx.vercel.app
   ```

2. è¾“å…¥æµ‹è¯•ä¸»é¢˜,ä¾‹å¦‚: "å¦‚ä½•åœ¨å®¶åšå’–å•¡"

3. ç‚¹å‡»"ç”Ÿæˆå¤§çº²"

4. å¦‚æœæˆåŠŸç”Ÿæˆ,è¯´æ˜éƒ¨ç½²å®Œæˆï¼ğŸ‰

---

## ğŸ¨ ç¬¬äº”æ­¥: è‡ªå®šä¹‰åŸŸå (å¯é€‰)

### 5.1 Vercel è‡ªå®šä¹‰åŸŸå

1. è¿›å…¥ Vercel é¡¹ç›®è®¾ç½®
2. ç‚¹å‡» "Settings" â†’ "Domains"
3. æ·»åŠ æ‚¨çš„åŸŸå,ä¾‹å¦‚: `redink.yourdomain.com`
4. æŒ‰ç…§ Vercel çš„æŒ‡å¼•é…ç½® DNS

### 5.2 Railway è‡ªå®šä¹‰åŸŸå

1. è¿›å…¥ Railway é¡¹ç›®è®¾ç½®
2. ç‚¹å‡» "Settings" â†’ "Domains"
3. æ·»åŠ è‡ªå®šä¹‰åŸŸå,ä¾‹å¦‚: `api.yourdomain.com`
4. é…ç½® DNS CNAME è®°å½•

---

## ğŸ“Š éƒ¨ç½²æˆåŠŸæ£€æŸ¥æ¸…å•

- [ ] âœ… å‰ç«¯å·²éƒ¨ç½²åˆ° Vercel
- [ ] âœ… åç«¯å·²éƒ¨ç½²åˆ° Railway
- [ ] âœ… åç«¯ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] âœ… å‰ç«¯ API åœ°å€å·²æ›´æ–°
- [ ] âœ… å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] âœ… åŠŸèƒ½æµ‹è¯•é€šè¿‡

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**æ£€æŸ¥**:
- å‰ç«¯ API åœ°å€æ˜¯å¦æ­£ç¡®é…ç½®
- åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CORS é”™è¯¯

**è§£å†³**:
```typescript
// ç¡®è®¤ frontend/src/api/index.ts ä¸­çš„ baseURL
baseURL: 'https://your-railway-url.up.railway.app/api',
```

### Q2: Railway éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥**:
- ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
- API Key æ˜¯å¦æœ‰æ•ˆ
- æŸ¥çœ‹ Railway æ„å»ºæ—¥å¿—

**è§£å†³**:
- è¿›å…¥ Railway é¡¹ç›® â†’ "Deployments"
- ç‚¹å‡»å¤±è´¥çš„éƒ¨ç½² â†’ "View Logs"
- æ ¹æ®é”™è¯¯ä¿¡æ¯ä¿®å¤

### Q3: API Key æ— æ•ˆ

**æ£€æŸ¥**:
- Gemini API Key æ ¼å¼: `AIza` å¼€å¤´,39 ä¸ªå­—ç¬¦
- OpenAI API Key æ ¼å¼: `sk-` å¼€å¤´,51 ä¸ªå­—ç¬¦
- API Key æ˜¯å¦å·²å¯ç”¨

**è§£å†³**:
- é‡æ–°ç”Ÿæˆ API Key
- åœ¨ Railway ä¸­æ›´æ–°ç¯å¢ƒå˜é‡

---

## ğŸ’° è´¹ç”¨è¯´æ˜

### Vercel (å‰ç«¯)
- âœ… **å…è´¹**: ä¸ªäººé¡¹ç›®å®Œå…¨å…è´¹
- âœ… åŒ…å«: 100GB å¸¦å®½/æœˆ
- âœ… è‡ªåŠ¨ HTTPS å’Œ CDN

### Railway (åç«¯)
- âœ… **å…è´¹é¢åº¦**: 500 å°æ—¶/æœˆ + $5 å…è´¹é¢åº¦
- âœ… æŒ‰ä½¿ç”¨é‡ä»˜è´¹
- âœ… å¤§éƒ¨åˆ†ä¸ªäººé¡¹ç›®åœ¨å…è´¹é¢åº¦å†…

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Railway è¯¦ç»†éƒ¨ç½²æŒ‡å—](RAILWAY_DEPLOY.md)
- [ç¯å¢ƒå˜é‡å®Œæ•´æ–‡æ¡£](docs/environment-variables.md)
- [åç«¯éƒ¨ç½²æ–‡æ¡£](backendjs/DEPLOYMENT.md)
- [Deno Deploy è¯´æ˜](DENO_DEPLOY.md) - ä¸æ¨è,éœ€è¦å¤§é‡ä»£ç æ”¹å†™

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ­å–œæ‚¨å®Œæˆäº†çº¢å¢¨çš„å®Œæ•´éƒ¨ç½²ï¼

**æ‚¨çš„åº”ç”¨å·²ä¸Šçº¿**:
- å‰ç«¯: `https://redink-frontend-xxx.vercel.app`
- åç«¯: `https://redink-production-xxxx.up.railway.app`

**ä¸‹ä¸€æ­¥**:
1. åˆ†äº«ç»™æœ‹å‹ä½¿ç”¨
2. é…ç½®è‡ªå®šä¹‰åŸŸå(å¯é€‰)
3. ç›‘æ§åº”ç”¨æ€§èƒ½å’Œä½¿ç”¨æƒ…å†µ

**éœ€è¦å¸®åŠ©?**
- æŸ¥çœ‹æ–‡æ¡£: [å®Œæ•´æ–‡æ¡£åˆ—è¡¨](README.md)
- æäº¤é—®é¢˜: [GitHub Issues](https://github.com/goldenhawksu/RedInk/issues)

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€
